<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Quiz</title>

    <!-- STYLE -->
    <link rel="stylesheet" href="css/basic.min.css" />
    <link rel="stylesheet" href="css/client.custom.css" />
    <link rel="stylesheet" href="css/jquery.mobile.icons.min.css" />
    <link rel="stylesheet" href="css/jquery.mobile.structure-1.4.0.min.css" />
    <!-- <link rel="stylesheet" href="css/jquery.mobile-1.4.1.min.css"> -->

    <!-- SCRIPTS -->
    <script type="application/javascript" language="javascript" src="thirdparty/jquery-1.10.2.min.js"></script>
    <script type="application/javascript" language="javascript" src="thirdparty/jquery.mobile-1.4.1.min.js"></script>
    <script type="application/javascript" language="javascript" src="thirdparty/socket.io.min.js"></script>

    <script type="application/javascript" language="javascript" src="connection.js"></script>
    <script type="application/javascript" language="javascript" src="uiwrapper.js"></script>
    <script type="application/javascript" language="javascript" src="users.js"></script>
    <script type="application/javascript" language="javascript" src="questions.js"></script>
    <script type="application/javascript" language="javascript" src="highscore.js"></script>
    <script type="application/javascript" language="javascript" src="client.js"></script>
  </head>

  <body onload="initializeClient()">

    <!-- 
      startPage
    -->
    <div data-role="page" id="startPage">
      <div data-role="header"><h2>Quiz</h2></div>
      <div role="main" class="ui-content">
        <h1>Welcome to the quiz!</h1>
        <p><a href="#singlePlayerQuizPage" onclick="showNewQuestion()" class="ui-btn ui-shadow ui-corner-all" data-transition="flip">Single Player Training</a></p>
        <p><a href="#singlePlayerQuizPage" onclick="showNewQuiz()" class="ui-btn ui-shadow ui-corner-all" data-transition="flip">Single Player Quiz</a></p>
        <p><a href="#twoPlayerQuizPage" class="ui-btn ui-shadow ui-corner-all ui-disabled" data-transition="flip">Duell</a></p>
        <p><a href="#threePlayerQuizPage" class="ui-btn ui-shadow ui-corner-all ui-disabled" data-transition="flip">Triell</a></p>
        <p><a href="#statisticsPage" onclick="loadHighscores()" class="ui-btn ui-shadow ui-corner-all" data-transition="flip">Statistics</a></p>
      </div>
      <div data-role="footer">Ads go here! :)</div>
    </div>

    <!-- 
      singlePlayerQuizPage 
    -->
    <div data-role="page" id="singlePlayerQuizPage">
      <div data-role="header">
        <h2>Quiz</h2>
        <div class="ui-btn-right">
          <a href="#startPage" data-role="button" data-icon="home" data-iconpos="notext" data-transition="flip"></a>
          <a href="#startPage" data-role="button" data-icon="delete" data-iconpos="notext" data-transition="flip" onclick="logoutUser()"></a>
        </div> 
      </div>
      <div role="main" class="ui-content">
        <h1 id="questionTextLabel">???</h1> 
        <button onclick="submitAnswer(0)" id="answerButton0">:)</button>
        <button onclick="submitAnswer(1)" id="answerButton1">:/</button>
        <button onclick="submitAnswer(2)" id="answerButton2">:O</button>
        <button onclick="submitAnswer(3)" id="answerButton3">:|</button>
        <button onclick="showNewQuestion()" id="nextQuestionButton">Next Question!</button>
      </div>
      <div data-role="footer">Ads go here! :)</div>
    </div>

    <!-- 
      resultPage
    -->
    <div data-role="page" id="resultPage">
      <div data-role="header">
        <h2>Quiz</h2>
        <div class="ui-btn-right">
          <a href="#startPage" data-role="button" data-icon="home" data-iconpos="notext" data-transition="flip"></a>
          <a href="#startPage" data-role="button" data-icon="delete" data-iconpos="notext" data-transition="flip" onclick="logoutUser()"></a>
        </div> 
      </div>
      <div role="main" class="ui-content">
        <h1 id="congratsLabel"></h1>
        <h2 id="scoreLabel"></h2>
      </div>
      <div data-role="footer">Ads go here! :)</div>
    </div>

    <!-- 
      statisticsPage 
    -->
    <div data-role="page" id="statisticsPage">
      <div data-role="header">
        <h2>Quiz</h2>
        <div class="ui-btn-right">
          <a href="#startPage" data-role="button" data-icon="home" data-iconpos="notext" data-transition="flip"></a>
          <a href="#startPage" data-role="button" data-icon="delete" data-iconpos="notext" data-transition="flip" onclick="logoutUser()"></a>
        </div> 
      </div>
      <div role="main" class="ui-content">
        <h1 id="questionTextLabel">Highscore</h1>
        <table data-role="table" id="highscoreTable" data-mode="column toggle">
          <thead><tr><th>Score</th><th>Date</th><th>Username</th></tr></thead>
          <tbody />
        </table>
      </div>
      <div data-role="footer">Ads go here! :)</div>
    </div>

    <!-- 
      loginPopup 
    -->
    <div data-role="popup" id="loginPopup" data-theme="a" class="ui-corner-all" data-dismissible="false">
      <div style="padding:10px 20px;">
        <h3 id="loginTextLabel">Please sign in:</h3>
        <div class="ui-input-text ui-body-inherit ui-corner-all ui-shadow-inset">
          <input type="text" id="loginUsernameInput" value="" placeholder="username" />
        </div>
        <div class="ui-input-text ui-body-inherit ui-corner-all ui-shadow-inset">
          <input type="password" id="loginPasswordInput" value="" placeholder="password" />
        </div>
        <button type="submit" onclick="tryToLoginUser()" class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-btn-icon-left ui-icon-check">Sign in</button>
        &nbsp;<a data-transition="flip" class="ui-link" style="float:right" onclick="showRegistrationPopup()">Register</a>
      </div>
    </div>

    <!-- 
      registerPopup 
    -->
    <div data-role="popup" id="registerPopup" data-theme="a" class="ui-corner-all" data-dismissible="false">
      <div style="padding:10px 20px;">
        <h3 id="registerTextLabel">Please register:</h3>
        <div class="ui-input-text ui-body-inherit ui-corner-all ui-shadow-inset">
          <input type="text" id="registerUsernameInput" value="" placeholder="username" />
        </div>
        <div class="ui-input-text ui-body-inherit ui-corner-all ui-shadow-inset">
          <input type="password" id="registerPasswordInput" value="" placeholder="password" />
        </div>
        <div class="ui-input-text ui-body-inherit ui-corner-all ui-shadow-inset">
          <input type="password" id="registerPasswordRepeatInput" value="" placeholder="repeated password" />
        </div>
        <button type="submit" class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-btn-icon-left ui-icon-check" onclick="tryToRegisterUser()">Register</button>
        <button type="submit" class="ui-btn ui-corner-all ui-shadow ui-btn-a" onclick="returnToLogin()">Cancel</button>
      </div>
    </div>

  </body>
</html>